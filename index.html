<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Simulado N√°utico - Arrais Amador</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap');
    
    body {
      font-family: 'Montserrat', sans-serif;
      background-image: url('https://images.unsplash.com/photo-1519046904884-53103b34b206?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');
      background-size: cover;
      background-attachment: fixed;
      background-position: center;
    }
    
    .question-card {
      transition: all 0.3s ease;
    }
    
    .question-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }
    
    .option:hover {
      background-color: #f0f9ff;
    }
    
    .correct-answer {
      background-color: #d1fae5;
      border-color: #10b981;
    }
    
    .incorrect-answer {
      background-color: #fee2e2;
      border-color: #ef4444;
    }
    
    .feedback {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease-out;
    }
    
    .feedback.show {
      max-height: 300px;
      transition: max-height 0.5s ease-in;
    }
  </style>
</head>
<body class="min-h-screen py-10 px-4 sm:px-6 lg:px-8">
  <div class="max-w-4xl mx-auto">
    <div class="text-center mb-12">
      <h1 class="text-4xl font-bold text-white mb-4 drop-shadow-lg">
        <i class="fas fa-ship mr-3"></i> Simulado N√°utico - Arrais Amador
      </h1>
      <p class="text-xl text-white opacity-90">Teste seus conhecimentos para a prova da Marinha</p>
    </div>

    <div class="bg-white bg-opacity-90 rounded-xl shadow-xl p-6 mb-10">
      <div class="flex flex-col sm:flex-row justify-between items-center">
        <div class="mb-4 sm:mb-0">
          <h2 class="text-2xl font-semibold text-gray-800">Progresso: <span id="progress">0</span>/40</h2>
          <div class="w-full bg-gray-200 rounded-full h-4 mt-2">
            <div id="progress-bar" class="bg-blue-600 h-4 rounded-full" style="width: 0%"></div>
          </div>
        </div>
        <button id="show-score" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition duration-300 flex items-center">
          <i class="fas fa-chart-bar mr-2"></i> Ver Pontua√ß√£o
        </button>
      </div>
    </div>

    <div id="score-container" class="hidden bg-white bg-opacity-90 rounded-xl shadow-xl p-6 mb-10">
      <div class="text-center">
        <h2 class="text-3xl font-bold text-gray-800 mb-6">Resultado Final</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
          <div class="bg-blue-50 p-4 rounded-lg">
            <p class="text-sm text-blue-600 font-medium">Quest√µes Respondidas</p>
            <p id="answered" class="text-3xl font-bold text-blue-800">0</p>
          </div>
          <div class="bg-green-50 p-4 rounded-lg">
            <p class="text-sm text-green-600 font-medium">Acertos</p>
            <p id="correct" class="text-3xl font-bold text-green-800">0</p>
          </div>
          <div class="bg-red-50 p-4 rounded-lg">
            <p class="text-sm text-red-600 font-medium">Erros</p>
            <p id="wrong" class="text-3xl font-bold text-red-800">0</p>
          </div>
        </div>
        <div class="bg-indigo-50 p-4 rounded-lg mb-4">
          <p class="text-sm text-indigo-600 font-medium">Percentual de Acertos</p>
          <p id="percentage" class="text-4xl font-bold text-indigo-800">0%</p>
        </div>
        <p id="result-message" class="text-xl font-medium mt-4"></p>
      </div>
    </div>

    <!-- Questions will be inserted here -->
    <div id="questions-container"></div>

    <div class="bg-white bg-opacity-90 rounded-xl shadow-xl p-6 mt-10 text-center">
      <button id="show-score-bottom" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition duration-300 flex items-center mx-auto">
        <i class="fas fa-chart-bar mr-2"></i> Ver Pontua√ß√£o Final
      </button>
    </div>
  </div>

  <script>
    // Questions data
    const questions = [
      {
        question: "O peso da √°gua que a embarca√ß√£o desloca para flutuar em √°guas tranquilas √© o(a):",
        options: [
          "a) peso m√°ximo",
          "b) tonelagem de porte bruto",
          "c) deslocamento da embarca√ß√£o",
          "d) caturro ou arfagem"
        ],
        correct: "c",
        explanation: "Deslocamento da embarca√ß√£o ‚Äì √© a quantidade de √°gua que a embarca√ß√£o desloca para conseguir flutuar."
      },
      {
        question: "Uma pessoa que passou muito tempo em ambientes muito aquecidos poder√° ser v√≠tima de:",
        options: [
          "a) hemostasia",
          "b) insola√ß√£o",
          "c) interma√ß√£o",
          "d) hipotermia"
        ],
        correct: "c",
        explanation: "Interma√ß√£o ‚Äì √© o aquecimento excessivo do corpo, podendo causar confus√£o mental e at√© desmaios."
      },
      {
        question: "Numa atraca√ß√£o com vento ou corrente paralelo ao cais, deverei me aproximar:",
        options: [
          "a) com um √¢ngulo agudo ao cais, e pouco seguimento",
          "b) a favor da corrente ou vento, com pouco seguimento",
          "c) sempre contr√°rio ao vento ou corrente, com √¢ngulo menor que 45 graus",
          "d) a favor do elemento que predominar, e paralelo ao cais"
        ],
        correct: "c",
        explanation: "Sempre contr√°rio ao vento ou corrente, com √¢ngulo menor que 45 graus ‚Äì facilita o controle e seguran√ßa da atraca√ß√£o."
      },
      {
        question: "De acordo com o RLESTA, na navega√ß√£o de lazer, a mais grave infra√ß√£o, que n√£o deve ser permitida a bordo √©:",
        options: [
          "a) conduzir embarca√ß√µes sem portar a habilita√ß√£o",
          "b) excesso de passageiros",
          "c) tripulante n√£o habilitado",
          "d) habilita√ß√£o rasgada"
        ],
        correct: "b",
        explanation: "Excesso de passageiros ‚Äì compromete a estabilidade e a seguran√ßa da embarca√ß√£o."
      },
      {
        question: "Uma embarca√ß√£o mi√∫da, ao necessitar cruzar uma via de tr√°fego, dever√° faz√™-lo:",
        options: [
          "a) somente durante o dia",
          "b) em alta velocidade, a fim de permanecer o m√≠nimo poss√≠vel na via",
          "c) somente se autorizada pelos navios que est√£o no canal",
          "d) tomando o rumo mais pr√≥ximo poss√≠vel perpendicular √† dire√ß√£o do fluxo de tr√°fego"
        ],
        correct: "d",
        explanation: "Tomando o rumo mais pr√≥ximo poss√≠vel perpendicular √† dire√ß√£o do fluxo de tr√°fego ‚Äì reduz o tempo de exposi√ß√£o ao risco."
      },
      {
        question: "O que vem a ser velocidade de seguran√ßa? E o que devemos fazer quando cruzamos com outras embarca√ß√µes atracadas ou fundeadas?",
        options: [
          "a) velocidade m√°xima permitida; manter velocidade",
          "b) velocidade ideal para baixa visibilidade; manter velocidade",
          "c) velocidade que permite evitar colis√µes e parar em dist√¢ncia segura; diminuir velocidade",
          "d) velocidade m√≠nima para parar com seguran√ßa; manter velocidade"
        ],
        correct: "c",
        explanation: "Velocidade que permite evitar colis√µes e parar em dist√¢ncia segura ‚Äì e ao passar por embarca√ß√µes atracadas ou fundeadas, devemos diminuir a velocidade."
      },
      {
        question: "As informa√ß√µes que afetam a seguran√ßa de navega√ß√£o devido a fatores meteorol√≥gicos, e transmitidos via r√°dio, s√£o os:",
        options: [
          "a) boletins meteorol√≥gicos",
          "b) avisos tempor√°rios",
          "c) avisos r√°dio n√°utico SAR",
          "d) boletim do navegante"
        ],
        correct: "a",
        explanation: "Boletins meteorol√≥gicos ‚Äì trazem dados atualizados sobre o clima que podem afetar a navega√ß√£o."
      },
      {
        question: "Durante a noite, um navegante v√™ a luz verde de outra lancha cruzando seu rumo com risco de abalroamento. Ele dever√°:",
        options: [
          "a) guinar para boreste",
          "b) guinar para bombordo",
          "c) manter rumo e velocidade",
          "d) aumentar sua velocidade"
        ],
        correct: "c",
        explanation: "Manter rumo e velocidade ‚Äì pois o outro √© quem deve manobrar para evitar a colis√£o."
      },
      {
        question: "Deve-se pular de uma embarca√ß√£o que est√° naufragando:",
        options: [
          "a) de p√©, com os bra√ßos abertos",
          "b) de p√©, com os bra√ßos colados ao corpo",
          "c) de p√©, com uma das m√£os segurando o nariz e a outra sobre o ombro oposto",
          "d) de p√©, com os bra√ßos voltados para cima"
        ],
        correct: "c",
        explanation: "De p√©, com uma das m√£os segurando o nariz e a outra sobre o ombro oposto ‚Äì protege o nariz e o pesco√ßo na entrada na √°gua."
      },
      {
        question: "Uma luz branca cont√≠nua, pr√≥xima √† popa e vis√≠vel num setor de 135¬∞, chama-se:",
        options: [
          "a) luz de reboque",
          "b) luz de popa",
          "c) luz de alcan√ßado",
          "d) luzes de bordos"
        ],
        correct: "c",
        explanation: "Luz de alcan√ßado ‚Äì usada para indicar que a embarca√ß√£o pode ser alcan√ßada por tr√°s."
      },
      {
        question: "Antes de se cobrir as queimaduras com pano limpo, devemos:",
        options: [
          "a) aplicar sobre elas p√≥ de caf√© ou a√ß√∫car",
          "b) colocar manteiga ou banha",
          "c) aplicar sobre elas √°lcool para desinfetar",
          "d) passar merc√∫rio cromo ou mertiolate"
        ],
        correct: "d",
        explanation: "Passar merc√∫rio cromo ou mertiolate ‚Äì ajuda a desinfetar e proteger a queimadura antes da cobertura."
      },
      {
        question: "Na aus√™ncia de apito, a embarca√ß√£o poder√° utilizar:",
        options: [
          "a) buzina ou sino para sinalizar as suas inten√ß√µes",
          "b) um holofote durante o tr√°fego em canal balizado",
          "c) uma s√©rie de foguetes pirot√©cnicos",
          "d) um gongo para manobrar √† noite"
        ],
        correct: "a",
        explanation: "Buzina ou sino para sinalizar as suas inten√ß√µes ‚Äì s√£o os substitutos regulamentares do apito."
      },
      {
        question: "As marcas de tope do sinal cardinal norte s√£o:",
        options: [
          "a) dois cones pretos com os v√©rtices para baixo",
          "b) dois cones pretos com os v√©rtices para cima",
          "c) dois cones pretos base a base",
          "d) dois cones pretos ponta a ponta"
        ],
        correct: "b",
        explanation: "Dois cones pretos com os v√©rtices para cima ‚Äì indicam sinaliza√ß√£o cardinal norte."
      },
      {
        question: "De acordo com o RIPEAM, para evitar abalroamento e parar a embarca√ß√£o com seguran√ßa, ela deve:",
        options: [
          "a) estar sempre a uma velocidade segura",
          "b) sempre alertar outras embarca√ß√µes",
          "c) atualizar as cartas n√°uticas",
          "d) guinar para um dos bordos"
        ],
        correct: "a",
        explanation: "Estar sempre a uma velocidade segura ‚Äì condi√ß√£o essencial para agir com seguran√ßa."
      },
      {
        question: "O termo 'alijamento' significa:",
        options: [
          "a) avarias simples ou particulares",
          "b) perigo que compromete isoladamente o navio ou a carga",
          "c) lan√ßamento ao mar de objetos para aliviar a embarca√ß√£o",
          "d) transbordo de mercadorias"
        ],
        correct: "c",
        explanation: "Lan√ßamento ao mar de objetos para aliviar a embarca√ß√£o ‚Äì pr√°tica usada em emerg√™ncias."
      },
      {
        question: "Durante a noite, ao avistar luz encarnada cruzando seu rumo com risco de abalroamento, o navegante deve:",
        options: [
          "a) guinar para boreste",
          "b) guinar para bombordo",
          "c) manter rumo e velocidade",
          "d) aumentar sua velocidade"
        ],
        correct: "a",
        explanation: "Guinar para boreste ‚Äì para evitar a colis√£o, assumindo a√ß√£o de dar passagem."
      },
      {
        question: "Os extintores port√°teis devem ser arrumados em:",
        options: [
          "a) locais fechados e seguros",
          "b) pai√≥is de materiais",
          "c) locais de f√°cil acesso e livres de risco de inc√™ndio",
          "d) locais de acesso restrito"
        ],
        correct: "c",
        explanation: "Locais de f√°cil acesso e livres de risco de inc√™ndio ‚Äì para uso imediato em emerg√™ncias."
      },
      {
        question: "Qual a cor da luz emitida pelo balizamento de canal preferencial a boreste?",
        options: [
          "a) verde",
          "b) amarela",
          "c) branca",
          "d) encarnada"
        ],
        correct: "a",
        explanation: "Verde ‚Äì indica que o canal preferencial √© √† boreste (direita)."
      },
      {
        question: "Em um naufr√°gio, a quantidade estipulada de √°gua pela Marinha Brasileira √©:",
        options: [
          "a) 2000 ml por pessoa",
          "b) 350 ml por pessoa",
          "c) 500 ml por pessoa",
          "d) 700 ml por pessoa"
        ],
        correct: "c",
        explanation: "500 ml por pessoa ‚Äì quantidade m√≠nima recomendada para sobreviv√™ncia."
      },
      {
        question: "Os extintores de espuma s√£o utilizados em:",
        options: [
          "a) inc√™ndios da classe A",
          "b) inc√™ndios em l√≠quidos inflam√°veis",
          "c) inc√™ndios em materiais el√©tricos",
          "d) inc√™ndios em materiais s√≥lidos inflam√°veis"
        ],
        correct: "b",
        explanation: "Inc√™ndios em l√≠quidos inflam√°veis ‚Äì s√£o apropriados para conter chamas em combust√≠veis."
      },
      {
        question: "N√£o se deve utilizar a moto aqu√°tica nas situa√ß√µes abaixo, exceto:",
        options: [
          "a) para reboque de pessoas praticando esqui aqu√°tico ou atividades similares",
          "b) em atividade comercial",
          "c) quando precisamos rebocar outro jet-ski",
          "d) quando empregadas no servi√ßo de salvamento da vida humana"
        ],
        correct: "d",
        explanation: "Quando empregadas no servi√ßo de salvamento da vida humana ‚Äì √© uma exce√ß√£o legal prevista em normas."
      },
      {
        question: "Em caso de acidente que necessite atendimento emergencial, deve-se:",
        options: [
          "a) avaliar o acidentado e suas condi√ß√µes, atentando-se para as fun√ß√µes vitais",
          "b) socorrer a v√≠tima, mesmo colocando sua vida em risco",
          "c) atender a v√≠tima, dispensando o atendimento especializado",
          "d) manter o agrupamento de pessoas, pois isso pode melhorar o atendimento"
        ],
        correct: "a",
        explanation: "Avaliar o acidentado e suas condi√ß√µes, atentando-se para as fun√ß√µes vitais ‚Äì √© o primeiro passo do socorro seguro e eficaz."
      },
      {
        question: "O termo 'embarca√ß√£o' designa:",
        options: [
          "a) qualquer embarca√ß√£o sob vela, desde que a m√°quina n√£o esteja em uso",
          "b) qualquer tipo de embarca√ß√£o, inclusive sem calado e hidroavi√µes",
          "c) somente embarca√ß√µes a vela que estejam navegando",
          "d) qualquer embarca√ß√£o a vela"
        ],
        correct: "b",
        explanation: "Qualquer tipo de embarca√ß√£o, inclusive sem calado e hidroavi√µes ‚Äì conforme defini√ß√£o da Marinha do Brasil."
      },
      {
        question: "Para seguran√ßa da embarca√ß√£o, devemos proceder a diversas verifica√ß√µes antes de navegar, exceto:",
        options: [
          "a) verificar os equipamentos de combate a inc√™ndio",
          "b) verificar os equipamentos de salvatagem",
          "c) verificar se as acomoda√ß√µes est√£o limpas e arrumadas",
          "d) verificar os equipamentos de r√°dio"
        ],
        correct: "c",
        explanation: "Verificar se as acomoda√ß√µes est√£o limpas e arrumadas ‚Äì n√£o influencia diretamente na seguran√ßa da navega√ß√£o."
      },
      {
        question: "S√£o agentes extintores:",
        options: [
          "a) cobertores, g√°s h√©lio e CO2",
          "b) √°gua, CO2 e espuma",
          "c) g√°s h√©lio e gasolina",
          "d) gases em geral"
        ],
        correct: "b",
        explanation: "√Ågua, CO2 e espuma ‚Äì s√£o os principais tipos de agentes usados em extin√ß√£o de inc√™ndios."
      },
      {
        question: "Como √© chamada a manobra em que se mant√©m a proa ao vento para aguentar o mau tempo com pouco seguimento?",
        options: [
          "a) correr com o tempo",
          "b) por a embarca√ß√£o √† capa",
          "c) abater",
          "d) derivar"
        ],
        correct: "b",
        explanation: "Por a embarca√ß√£o √† capa ‚Äì t√©cnica utilizada para manter o controle durante mau tempo."
      },
      {
        question: "Ao entrar em porto vindo do mar aberto, deixar√° por boreste as boias laterais de cor:",
        options: [
          "a) verde",
          "b) amarela",
          "c) encarnada",
          "d) verde e encarnada"
        ],
        correct: "c",
        explanation: "Encarnada ‚Äì no sistema IALA B adotado no Brasil, as boias vermelhas ficam por boreste na entrada."
      },
      {
        question: "O que pode ser tentado no caso de parada card√≠aca, e que √†s vezes funciona de imediato?",
        options: [
          "a) respira√ß√£o boca a boca",
          "b) massagem nos punhos",
          "c) aquecimento do corpo",
          "d) murro forte no peito"
        ],
        correct: "d",
        explanation: "Murro forte no peito ‚Äì conhecido como 'golpe pr√©-cordial', pode reiniciar o cora√ß√£o em casos espec√≠ficos."
      },
      {
        question: "S√£o partes do leme:",
        options: [
          "a) cabe√ßa, corpo e dobradi√ßas",
          "b) madre, cana e porta",
          "c) corpo, anete e cepo",
          "d) cabe√ßa, anete e haste"
        ],
        correct: "b",
        explanation: "Madre, cana e porta ‚Äì s√£o os componentes fundamentais do sistema de leme tradicional."
      },
      {
        question: "Qual a idade m√≠nima e condi√ß√£o para habilita√ß√£o de motonauta?",
        options: [
          "a) 18 anos, com treinamento pr√°tico e exame te√≥rico sob certifica√ß√£o privada",
          "b) 18 anos, com exame te√≥rico na Capitania",
          "c) 18 anos, com treinamento pr√°tico e exame te√≥rico na Capitania dos Portos",
          "d) 16 anos, com treinamento pr√°tico e exame te√≥rico na Capitania dos Portos"
        ],
        correct: "c",
        explanation: "18 anos, com treinamento pr√°tico e exame te√≥rico na Capitania dos Portos ‚Äì √© o requisito oficial para habilita√ß√£o de motonauta."
      },
      {
        question: "A boca √©:",
        options: [
          "a) o comprimento da embarca√ß√£o sem mastrea√ß√£o",
          "b) a menor largura da embarca√ß√£o",
          "c) a maior largura da embarca√ß√£o",
          "d) a medida ao longo do casco desconsiderando a quilha"
        ],
        correct: "c",
        explanation: "A maior largura da embarca√ß√£o ‚Äì √© a medida transversal m√°xima do casco."
      },
      {
        question: "Em situa√ß√µes normais, quando o h√©lice de uma embarca√ß√£o gira para a direita (sentido hor√°rio), ele:",
        options: [
          "a) joga a √°gua para tr√°s (r√©) e impulsiona o barco para vante",
          "b) joga a √°gua para a frente e impulsiona o barco para r√©",
          "c) anula as for√ßas que tendem a impulsionar o barco para vante",
          "d) joga a √°gua em todas as dire√ß√µes e n√£o movimenta o barco"
        ],
        correct: "a",
        explanation: "Joga a √°gua para tr√°s (r√©) e impulsiona o barco para vante ‚Äì princ√≠pio b√°sico da propuls√£o n√°utica."
      },
      {
        question: "Como se chamam as pe√ßas colocadas de proa a popa, na parte interna das cavernas, ligando-se entre si?",
        options: [
          "a) trincaniz",
          "b) sicordas",
          "c) longarinas",
          "d) sobrequilha"
        ],
        correct: "c",
        explanation: "Longarinas ‚Äì contribuem para a rigidez longitudinal do casco."
      },
      {
        question: "Um colete salva-vidas da Classe III se destina prioritariamente para navega√ß√£o em √°rea:",
        options: [
          "a) oce√¢nica",
          "b) desabrigada",
          "c) costeira",
          "d) interior"
        ],
        correct: "d",
        explanation: "Interior ‚Äì voltado para rios, lagos e ambientes abrigados."
      },
      {
        question: "No caso de abandono da embarca√ß√£o por inc√™ndio e presen√ßa de √≥leo na superf√≠cie da √°gua, devemos pular:",
        options: [
          "a) contra a correnteza",
          "b) sempre de cabe√ßa e com os p√©s juntos",
          "c) sobre o √≥leo, para amaciar a queda",
          "d) a favor da correnteza"
        ],
        correct: "a",
        explanation: "Contra a correnteza ‚Äì para evitar contato direto com o √≥leo inflam√°vel."
      },
      {
        question: "Uma embarca√ß√£o com reboque de menos de 200 metros de comprimento dever√° exibir:",
        options: [
          "a) tr√™s luzes brancas no mastro",
          "b) uma luz branca no mastro",
          "c) duas luzes brancas no mastro",
          "d) quatro luzes brancas no mastro"
        ],
        correct: "c",
        explanation: "Duas luzes brancas no mastro ‚Äì conforme as regras de navega√ß√£o noturna."
      },
      {
        question: "Um n√°ufrago pode passar sem comida por longo tempo, desde que tenha √°gua. Quantos dias ele pode sobreviver?",
        options: [
          "a) cerca de 5 a 10 dias",
          "b) cerca de 35 a 40 dias",
          "c) cerca de 20 a 30 dias",
          "d) cerca de 10 a 15 dias"
        ],
        correct: "b",
        explanation: "Cerca de 35 a 40 dias ‚Äì o corpo humano resiste mais tempo sem alimento do que sem √°gua."
      },
      {
        question: "O que pode ser improvisado e usado como defensa numa atraca√ß√£o?",
        options: [
          "a) espias e pneus desgastados",
          "b) sacos de areia",
          "c) restos de metais ou madeira",
          "d) sacos com arames ou ferros"
        ],
        correct: "a",
        explanation: "Espias e pneus desgastados ‚Äì ajudam a evitar danos no casco ao encostar."
      },
      {
        question: "Para arrancar a √¢ncora (suspender), devemos posicionar o barco de forma que a amarra esteja:",
        options: [
          "a) vertical",
          "b) horizontal",
          "c) inclinada para vante",
          "d) inclinada para r√©"
        ],
        correct: "a",
        explanation: "Vertical ‚Äì facilita o rompimento da suc√ß√£o do fundo."
      },
      {
        question: "Ao sair do porto em dire√ß√£o ao mar aberto, deve-se deixar por boreste as boias laterais de cor:",
        options: [
          "a) verde",
          "b) encarnada",
          "c) amarela",
          "d) branca"
        ],
        correct: "a",
        explanation: "Verde ‚Äì conforme o sistema de balizamento adotado no Brasil (IALA B)."
      }
    ];

    // State management
    const state = {
      answered: 0,
      correct: 0,
      wrong: 0,
      userAnswers: Array(questions.length).fill(null)
    };

    // DOM elements
    const questionsContainer = document.getElementById('questions-container');
    const progressElement = document.getElementById('progress');
    const progressBar = document.getElementById('progress-bar');
    const showScoreBtn = document.getElementById('show-score');
    const showScoreBottomBtn = document.getElementById('show-score-bottom');
    const scoreContainer = document.getElementById('score-container');
    const answeredElement = document.getElementById('answered');
    const correctElement = document.getElementById('correct');
    const wrongElement = document.getElementById('wrong');
    const percentageElement = document.getElementById('percentage');
    const resultMessageElement = document.getElementById('result-message');

    // Initialize the quiz
    function initQuiz() {
      renderQuestions();
      updateProgress();
    }

    // Render all questions
    function renderQuestions() {
      questions.forEach((q, index) => {
        const questionElement = document.createElement('div');
        questionElement.className = 'question-card bg-white bg-opacity-90 rounded-xl shadow-md p-6 mb-6';
        questionElement.id = `q${index + 1}`;
        
        questionElement.innerHTML = `
          <h3 class="text-xl font-semibold text-gray-800 mb-4">Quest√£o ${index + 1}: ${q.question}</h3>
          <div class="options space-y-2">
            ${q.options.map((opt, optIndex) => `
              <label class="option block p-3 border border-gray-200 rounded-lg cursor-pointer transition ${state.userAnswers[index] === String.fromCharCode(97 + optIndex) ? 
                (state.userAnswers[index] === q.correct ? 'correct-answer' : 'incorrect-answer') : ''}">
                <input type="radio" name="q${index + 1}" value="${String.fromCharCode(97 + optIndex)}" 
                  ${state.userAnswers[index] === String.fromCharCode(97 + optIndex) ? 'checked' : ''}
                  ${state.userAnswers[index] !== null ? 'disabled' : ''}
                  class="mr-2">
                ${opt}
              </label>
            `).join('')}
          </div>
          <button onclick="checkAnswer(${index}, '${q.correct}')" 
            class="mt-4 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition duration-300 ${state.userAnswers[index] !== null ? 'hidden' : ''}">
            <i class="fas fa-check mr-2"></i> Verificar Resposta
          </button>
          <div class="feedback mt-4 p-4 rounded-lg ${state.userAnswers[index] !== null ? 'show' : ''}" 
            style="${state.userAnswers[index] !== null ? '' : 'display: none;'}">
            <p class="font-medium ${state.userAnswers[index] === q.correct ? 'text-green-600' : 'text-red-600'}">
              <i class="fas ${state.userAnswers[index] === q.correct ? 'fa-check-circle' : 'fa-times-circle'} mr-2"></i>
              ${state.userAnswers[index] === q.correct ? 'Resposta Correta!' : 'Resposta Incorreta!'}
            </p>
            <p class="mt-2 text-gray-700">${q.explanation}</p>
          </div>
        `;
        
        questionsContainer.appendChild(questionElement);
        
        // Add event listeners to options
        const options = questionElement.querySelectorAll('.option input');
        options.forEach(opt => {
          opt.addEventListener('change', () => {
            if (state.userAnswers[index] === null) {
              state.userAnswers[index] = opt.value;
              updateProgress();
            }
          });
        });
      });
    }

    // Check answer function (needs to be global for inline onclick)
    window.checkAnswer = function(index, correctAnswer) {
      const questionElement = document.getElementById(`q${index + 1}`);
      const selectedOption = questionElement.querySelector(`input[name="q${index + 1}"]:checked`);
      
      if (!selectedOption) {
        alert('Por favor, selecione uma resposta antes de verificar.');
        return;
      }
      
      const userAnswer = selectedOption.value;
      state.userAnswers[index] = userAnswer;
      state.answered++;
      
      if (userAnswer === correctAnswer) {
        state.correct++;
      } else {
        state.wrong++;
      }
      
      // Update UI
      updateProgress();
      
      // Show feedback
      const feedback = questionElement.querySelector('.feedback');
      feedback.classList.add('show');
      
      // Disable all options and hide check button
      const options = questionElement.querySelectorAll('.option input');
      options.forEach(opt => opt.disabled = true);
      
      const checkBtn = questionElement.querySelector('button');
      checkBtn.classList.add('hidden');
      
      // Highlight selected option
      const selectedLabel = selectedOption.closest('label');
      if (userAnswer === correctAnswer) {
        selectedLabel.classList.add('correct-answer');
      } else {
        selectedLabel.classList.add('incorrect-answer');
        
        // Also highlight correct answer
        const correctOption = questionElement.querySelector(`input[value="${correctAnswer}"]`);
        correctOption.closest('label').classList.add('correct-answer');
      }
    };

    // Update progress
    function updateProgress() {
      progressElement.textContent = state.answered;
      progressBar.style.width = `${(state.answered / questions.length) * 100}%`;
    }

    // Show score
    function showScore() {
      const percentage = Math.round((state.correct / questions.length) * 100);
      
      answeredElement.textContent = state.answered;
      correctElement.textContent = state.correct;
      wrongElement.textContent = state.wrong;
      percentageElement.textContent = `${percentage}%`;
      
      if (percentage >= 80) {
        resultMessageElement.textContent = 'Excelente! Voc√™ est√° pronto para a prova! üéâ';
        resultMessageElement.className = 'text-xl font-medium mt-4 text-green-600';
      } else if (percentage >= 60) {
        resultMessageElement.textContent = 'Bom desempenho! Continue estudando para melhorar. üëç';
        resultMessageElement.className = 'text-xl font-medium mt-4 text-blue-600';
      } else {
        resultMessageElement.textContent = 'Voc√™ precisa estudar mais. Revise o material e tente novamente! üìö';
        resultMessageElement.className = 'text-xl font-medium mt-4 text-red-600';
      }
      
      scoreContainer.classList.remove('hidden');
      scoreContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    // Event listeners
    showScoreBtn.addEventListener('click', showScore);
    showScoreBottomBtn.addEventListener('click', showScore);

    // Initialize the quiz
    initQuiz();
  </script>
</body>
</html>}
